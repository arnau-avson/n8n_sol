<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Crypto AI Assistant Dashboard</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
        <script src="https://cdn.jsdelivr.net/npm/dayjs"></script>
        <style>
            .loading-spinner {
                border: 2px solid #1a1a1a;
                border-top: 2px solid #404040;
                border-radius: 50%;
                width: 16px;
                height: 16px;
                animation: spin 1s linear infinite;
            }

            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
        </style>
    </head>

    <body class="min-h-screen bg-black">
        <div class="container mx-auto px-4 py-8">
            <!-- Header -->
            <div class="text-center mb-8">
                <h1 class="text-3xl font-light text-white mb-2">CRYPTO AI ASSISTANT</h1>
                <p class="text-gray-500 text-sm tracking-wider uppercase">Análisis predictivo con IA</p>
            </div>

            <!-- Control Panel -->
            <div class="border border-gray-800 rounded p-6 mb-8 max-w-md mx-auto bg-black">
                <div class="space-y-4">
                    <div>
                        <select id="coinSelect"
                            class="w-full px-4 py-2 bg-black border border-gray-800 rounded text-gray-300 focus:ring-1 focus:ring-gray-700 focus:border-gray-700 text-sm">
                            <option value="bitcoin">BTC</option>
                            <option value="ethereum">ETH</option>
                            <option value="solana">SOL</option>
                        </select>
                    </div>

                    <div class="flex gap-2">
                        <button id="analyzeBtn"
                            class="flex-1 bg-gray-900 hover:bg-gray-800 text-gray-300 font-light py-3 px-6 rounded border border-gray-800 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center text-sm">
                            <span id="btnText">ANALIZAR</span>
                            <div id="btnSpinner" class="loading-spinner ml-2 hidden"></div>
                        </button>
                        <button id="historyBtn"
                            class="bg-gray-900 hover:bg-gray-800 text-gray-300 font-light py-3 px-4 rounded border border-gray-800 transition-colors duration-200 flex items-center justify-center text-sm">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Results Panel -->
            <div id="resultsPanel" class="hidden">
                <!-- AI Analysis Results -->
                <div class="border border-gray-800 rounded p-6 mb-8 bg-black">
                    <div class="grid md:grid-cols-3 gap-6">
                        <div>
                            <div class="border-b border-gray-800 pb-4">
                                <p class="text-gray-500 text-xs uppercase tracking-wider mb-1">Precio Actual</p>
                                <p id="currentPrice" class="text-white text-2xl font-light"></p>
                                <p id="priceChange" class="text-xs mt-1"></p>
                            </div>
                        </div>

                        <div>
                            <div class="border-b border-gray-800 pb-4">
                                <p class="text-gray-500 text-xs uppercase tracking-wider mb-1">Predicción 24h</p>
                                <p id="prediction" class="text-white text-lg font-light"></p>
                            </div>
                        </div>
                    </div>

                    <div class="mt-6 grid md:grid-cols-2 gap-6">
                        <div class="border-l border-gray-800 pl-4">
                            <p class="text-gray-500 text-xs uppercase tracking-wider mb-2">Sentimiento</p>
                            <div class="flex items-center space-x-4">
                                <span id="sentimentScore" class="text-lg font-light"></span>
                                <span class="text-gray-500 text-xs">|</span>
                                <span id="newsCount" class="text-gray-400 text-sm"></span>
                            </div>
                        </div>

                        <div class="border-l border-gray-800 pl-4">
                            <p class="text-gray-500 text-xs uppercase tracking-wider mb-2">Análisis</p>
                            <p id="detailedAnalysis" class="text-gray-400 text-sm leading-relaxed"></p>
                        </div>
                    </div>
                </div>

                <!-- ApexCharts Chart -->
                <div class="border border-gray-800 rounded p-6 bg-black">
                    <div id="tradingChart"></div>

                    <!-- Chart Legend -->
                    <div class="mt-4 flex flex-wrap gap-6 text-xs">
                        <div class="flex items-center">
                            <div class="w-3 h-px bg-gray-500 mr-2"></div>
                            <span class="text-gray-500 uppercase tracking-wider">Análisis</span>
                        </div>
                        <div class="flex items-center">
                            <div class="w-3 h-px bg-green-600 mr-2"></div>
                            <span class="text-gray-500 uppercase tracking-wider">Proyección Positiva</span>
                        </div>
                        <div class="flex items-center">
                            <div class="w-3 h-px bg-red-600 mr-2"></div>
                            <span class="text-gray-500 uppercase tracking-wider">Proyección Negativa</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Error Panel -->
            <div id="errorPanel" class="hidden">
                <div class="border border-red-900 bg-black rounded p-4 max-w-md mx-auto">
                    <p id="errorMessage" class="text-red-500 text-sm"></p>
                </div>
            </div>
        </div>

        <script src="./script.js"></script>
    </body>
</html>